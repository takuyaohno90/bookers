<div class = "flash">
  <%= flash[:notice] %>
</div>

<h1 class="index-style">Books</h1>

<table>
  <tr>
    <th>Title</th>
    <th>Body</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>
  <% @books.each do |book| %>
  <tr>
    <td><%= book.title %></td>
    <td><%= book.body %></td>
    <td><%= link_to "show", book_path(book.id), class:"link" %></td>
    <td><%= link_to "edit", edit_book_path(book.id), class:"link" %></td>
    <td><%= link_to "Destroy", book_path(book.id),class:"link", method: :delete %></td>
  </tr>
  <% end %>
</table>



<h2 class="index-style">New book</h2>
<% if @book.errors.any? %>
<div class="index-error">
   <h2 class="index-error-message"><%= @book.errors.count %>errors prohibited this book from being saved:</h2>

   <ul>
     <% @book.errors.full_messages.each do |message| %>
     <li><%= message %></li>
     <% end %>
   </ul>
</div>
<% end %>

<%= form_with model: @book,url: books_path, method: :post do |f| %>

<% if @book.errors.any? %>
  <h4 class="errors">Title</h4>
<% else %>
  <h4>Title</h4>
<% end %>
<%= f.text_field :title%>

<% if @book.errors.any? %>
  <h4 class="errors">Body</h4>
<% else %>
  <h4>Body</h4>
<% end %>
<%= f.text_area :body %>
<div class="submit">
<%= f.submit 'Create Book' %>
</div>


<% end %>
